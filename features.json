[
  {
    "category": "functional",
    "id": "task-1-templates-directory",
    "description": "Templates directory contains workflows, scripts, prompts, agents, and .env.example",
    "plan_ref": "Task 1 - DEL-1308: Define templates & installed layout",
    "steps": [
      "Check that templates/ directory exists",
      "Verify templates/workflows/ contains claude-plan.yml and claude-implement.yml",
      "Verify templates/scripts/ contains detect-runtime.sh",
      "Verify templates/prompts/ contains all 5 prompt files",
      "Verify templates/agents/ contains all 4 agent markdown files",
      "Verify templates/.env.example exists"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-1-no-external-refs",
    "description": "Templates do not reference mkrueger12/claude-parallel or raw.githubusercontent.com",
    "plan_ref": "Task 1 - DEL-1308: Define templates & installed layout",
    "steps": [
      "Search templates/ directory for 'mkrueger12/claude-parallel'",
      "Search templates/ directory for 'raw.githubusercontent.com'",
      "Verify no matches found in any template files"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-1-detect-runtime",
    "description": "detect-runtime.sh outputs in GitHub Actions-compatible way",
    "plan_ref": "Task 1 - DEL-1308: Define templates & installed layout",
    "steps": [
      "Read templates/scripts/detect-runtime.sh",
      "Verify it uses GITHUB_OUTPUT for setting outputs",
      "Verify it detects runtime (js, python, go, rust, unknown)",
      "Verify it detects package manager"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-2-no-reusable-workflow",
    "description": "No uses: mkrueger12/claude-parallel exists in standalone workflows",
    "plan_ref": "Task 2 - DEL-1309: Create standalone workflow templates",
    "steps": [
      "Read templates/workflows/claude-plan.yml",
      "Read templates/workflows/claude-implement.yml",
      "Search for 'uses: mkrueger12/claude-parallel'",
      "Verify no matches found"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-2-no-curl-prompts",
    "description": "No curl raw.githubusercontent.com for prompts/agents in workflows",
    "plan_ref": "Task 2 - DEL-1309: Create standalone workflow templates",
    "steps": [
      "Read templates/workflows/claude-plan.yml",
      "Read templates/workflows/claude-implement.yml",
      "Search for 'curl.*raw.githubusercontent.com'",
      "Verify no matches found"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-2-yaml-valid",
    "description": "Workflow YAML syntax is valid",
    "plan_ref": "Task 2 - DEL-1309: Create standalone workflow templates",
    "steps": [
      "Run yaml linter on templates/workflows/claude-plan.yml",
      "Run yaml linter on templates/workflows/claude-implement.yml",
      "Verify both files parse without errors"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-3-bundled-scripts-exist",
    "description": "Bundled scripts are created in templates/scripts/",
    "plan_ref": "Task 3 - DEL-1310: Bundle scripts for workflows",
    "steps": [
      "Run the build script to generate bundled outputs",
      "Verify templates/scripts/planning-agent.js exists",
      "Verify templates/scripts/linear-agent.js exists",
      "Verify templates/scripts/claude-agent-runner.js exists"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-3-scripts-self-contained",
    "description": "Bundled scripts are self-contained with shebang",
    "plan_ref": "Task 3 - DEL-1310: Bundle scripts for workflows",
    "steps": [
      "Read first line of templates/scripts/planning-agent.js",
      "Verify it starts with #!/usr/bin/env node or similar",
      "Verify scripts resolve prompts relative to installed location (process.cwd())"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-4-cli-entry-point",
    "description": "CLI can be invoked with npx install-claude-parallel",
    "plan_ref": "Task 4 - DEL-1311: Implement installer CLI",
    "steps": [
      "Verify src/cli/index.ts exists",
      "Verify package.json has bin field pointing to dist/cli/index.js",
      "Run npm link and verify install-claude-parallel command works"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-4-installer-creates-files",
    "description": "Installer creates all required files in target repo",
    "plan_ref": "Task 4 - DEL-1311: Implement installer CLI",
    "steps": [
      "Create a test directory",
      "Run installer with --yes flag",
      "Verify .github/workflows/claude-plan.yml exists",
      "Verify .github/workflows/claude-implement.yml exists",
      "Verify .github/claude-parallel/scripts/ contains JS files",
      "Verify .github/claude-parallel/prompts/ contains MD files",
      "Verify .claude/agents/ contains agent MD files",
      "Verify .env.example exists"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-4-manifest-conflict-detection",
    "description": "Re-running installer respects user modifications (unless --force)",
    "plan_ref": "Task 4 - DEL-1311: Implement installer CLI",
    "steps": [
      "Run installer once to create files",
      "Modify one of the installed files",
      "Re-run installer without --force",
      "Verify modified file is NOT overwritten",
      "Verify manifest shows conflict"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-4-dry-run-mode",
    "description": "Dry-run mode shows what would be changed without making changes",
    "plan_ref": "Task 4 - DEL-1311: Implement installer CLI",
    "steps": [
      "Create a test directory",
      "Run installer with --dry-run flag",
      "Verify no files are created",
      "Verify output shows list of files that would be created"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-4-help-flag",
    "description": "--help shows usage information",
    "plan_ref": "Task 4 - DEL-1311: Implement installer CLI",
    "steps": [
      "Run installer with --help flag",
      "Verify output includes usage information",
      "Verify output includes description of all flags"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-5-readme-documentation",
    "description": "README has clear installer documentation",
    "plan_ref": "Task 5 - DEL-1312: Documentation & release preparation",
    "steps": [
      "Read README.md",
      "Verify it contains 'Installer usage' or equivalent section",
      "Verify it documents npx install-claude-parallel command",
      "Verify it documents available flags"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-5-npm-pack",
    "description": "npm pack includes dist/ and templates/",
    "plan_ref": "Task 5 - DEL-1312: Documentation & release preparation",
    "steps": [
      "Run npm pack --dry-run",
      "Verify dist/ directory is included",
      "Verify templates/ directory is included"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "id": "task-5-test-script",
    "description": "Installation test script passes",
    "plan_ref": "Task 5 - DEL-1312: Documentation & release preparation",
    "steps": [
      "Verify scripts/test-install.sh exists",
      "Run scripts/test-install.sh",
      "Verify exit code is 0"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "id": "e2e-installed-workflows-run",
    "description": "Installed workflows do NOT reference external repos and run using local files only",
    "plan_ref": "DEL-1307: Parent issue verification criteria",
    "steps": [
      "Install templates in a test repo",
      "Read installed workflows",
      "Verify no mkrueger12/claude-parallel references",
      "Verify no raw.githubusercontent.com references",
      "Verify workflows reference local .github/claude-parallel/ paths"
    ],
    "passes": false
  }
]
